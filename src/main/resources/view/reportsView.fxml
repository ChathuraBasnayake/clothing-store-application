<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<ScrollPane xmlns:fx="http://javafx.com/fxml/1" fitToWidth="true" hbarPolicy="NEVER"
            style="-fx-background-color: transparent; -fx-background: transparent;"
            xmlns="http://javafx.com/javafx/23.0.1" fx:controller="com.icet.clothify.controller.ReportsController">
    <content>
        <VBox spacing="20.0" style="-fx-background-color: transparent;">
            <padding>
                <Insets top="5.0" right="5.0" bottom="5.0" left="5.0"/>
            </padding>
            <children>
                <Label text="Reports &amp; Analytics" textFill="#333333">
                    <font>
                        <Font name="System Bold" size="24.0"/>
                    </font>
                </Label>

                <TitledPane animated="false" text="Standard Reports" collapsible="false">
                    <font>
                        <Font name="System Bold" size="14.0"/>
                    </font>
                    <content>
                        <HBox alignment="CENTER_LEFT" spacing="20.0"
                              style="-fx-background-color: #fdfdfd; -fx-border-color: #e0e0e0; -fx-border-radius: 8px;">
                            <padding>
                                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
                            </padding>
                            <children>
                                <Label text="Generate and print standard business reports."/>
                                <HBox alignment="CENTER_RIGHT" spacing="15.0" HBox.hgrow="ALWAYS">
                                    <Button fx:id="printInventoryBtn" onAction="#handlePrintReport"
                                            text="Inventory Report" styleClass="button-secondary">
                                        <graphic>
                                            <FontAwesomeIconView glyphName="CUBES" size="1.2em"/>
                                        </graphic>
                                    </Button>
                                    <Button fx:id="printEmployeesBtn" onAction="#handlePrintReport"
                                            text="Employee Report" styleClass="button-secondary">
                                        <graphic>
                                            <FontAwesomeIconView glyphName="USERS" size="1.2em"/>
                                        </graphic>
                                    </Button>
                                    <Button fx:id="printSuppliersBtn" onAction="#handlePrintReport"
                                            text="Supplier Report" styleClass="button-secondary">
                                        <graphic>
                                            <FontAwesomeIconView glyphName="TRUCK" size="1.2em"/>
                                        </graphic>
                                    </Button>
                                </HBox>
                            </children>
                        </HBox>
                    </content>
                </TitledPane>

                <TitledPane animated="false" text="Sales Analytics (Admin)" collapsible="false">
                    <font>
                        <Font name="System Bold" size="14.0"/>
                    </font>
                    <content>
                        <VBox spacing="15.0"
                              style="-fx-background-color: #fdfdfd; -fx-border-color: #e0e0e0; -fx-border-radius: 8px;">
                            <padding>
                                <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
                            </padding>
                            <children>
                                <HBox alignment="CENTER_LEFT" spacing="10.0">
                                    <children>
                                        <Label text="Timeframe:">
                                            <font>
                                                <Font name="System Bold" size="14.0"/>
                                            </font>
                                        </Label>

                                        <fx:define>
                                            <ToggleGroup fx:id="timeframeToggleGroup"/>
                                        </fx:define>

                                        <ToggleButton fx:id="dailyToggle" text="Daily" selected="true"
                                                      toggleGroup="$timeframeToggleGroup"/>
                                        <ToggleButton fx:id="monthlyToggle" text="Monthly"
                                                      toggleGroup="$timeframeToggleGroup"/>
                                        <ToggleButton fx:id="annualToggle" text="Annual"
                                                      toggleGroup="$timeframeToggleGroup"/>

                                        <DatePicker fx:id="dailyDatePicker" promptText="Select Date"/>
                                        <Separator orientation="VERTICAL"/>
                                        <Button fx:id="generateSalesBtn" onAction="#handleGenerateAnalytics"
                                                text="Generate" styleClass="button-primary"/>
                                    </children>
                                </HBox>
                                <HBox spacing="20.0" VBox.vgrow="ALWAYS">
                                    <VBox styleClass="chart-container" HBox.hgrow="ALWAYS">
                                        <Label text="Sales Trend">
                                            <font>
                                                <Font name="System Bold" size="16.0"/>
                                            </font>
                                        </Label>
                                        <LineChart fx:id="salesLineChart" animated="true" legendVisible="false">
                                            <xAxis>
                                                <CategoryAxis label="Period" side="BOTTOM"/>
                                            </xAxis>
                                            <yAxis>
                                                <NumberAxis label="Sales (LKR)" side="LEFT"/>
                                            </yAxis>
                                        </LineChart>
                                    </VBox>
                                    <VBox styleClass="chart-container" minWidth="-Infinity" prefWidth="350.0">
                                        <Label text="Sales by Category">
                                            <font>
                                                <Font name="System Bold" size="16.0"/>
                                            </font>
                                        </Label>
                                        <PieChart fx:id="salesPieChart" animated="true" legendVisible="false"/>
                                    </VBox>
                                </HBox>
                            </children>
                        </VBox>
                    </content>
                </TitledPane>
            </children>
        </VBox>
    </content>
</ScrollPane>
